import j,{useMemo as ze,useRef as He,useState as Ve}from"react";var I=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xF4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["R\xE9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]];var ve="react-international-phone-",ie=(...t)=>t.filter(e=>!!e).join(" ").trim(),xe=(...t)=>ie(...t).split(" ").map(e=>`${ve}${e}`).join(" "),P=({addPrefix:t,rawClassNames:e})=>ie(xe(...t),...e);var se=({value:t,mask:e,maskSymbol:a,offset:i=0,trimNonMaskCharsLeftover:o=!1})=>{if(t.length<i)return t;let n=t.slice(0,i),c=t.slice(i),r=n,s=0;for(let l of e.split("")){if(s>=c.length){if(!o&&l!==a){r+=l;continue}break}l===a?(r+=c[s],s+=1):r+=l}return r};var F=t=>t?/^\d+$/.test(t):!1;var z=t=>t.replace(/\D/g,"");var le=(t,e)=>{let a=t.style.display;a!=="block"&&(t.style.display="block");let i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),n=o.top-i.top,c=i.bottom-o.bottom;n>=0&&c>=0||(Math.abs(n)<Math.abs(c)?t.scrollTop+=n:t.scrollTop-=c),t.style.display=a};var Se=t=>{let{name:e,iso2:a,dialCode:i,format:o,priority:n,areaCodes:c}=t,r=[e,a,i,o,n,c];for(let s=0;s<r.length;s+=1){if(s===0)continue;let l=r[s-1],u=r[s];if(l===void 0&&u!==void 0){let g=JSON.stringify(r,(f,h)=>h===void 0?"__undefined":h).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${l} in: ${g}`)}}return r.filter(s=>s!==void 0)};import{useCallback as Ie,useEffect as ye,useMemo as Ne,useRef as Me,useState as Re}from"react";var ue=({phone:t,dialCode:e,prefix:a="+",charAfterDialCode:i=" "})=>{if(!t||!e)return t;let o=t;return o.startsWith(a)&&(o=o.replace(a,"")),o.startsWith(e)?(o=o.replace(e,""),o.startsWith(i)&&(o=o.replace(i,"")),o):t};var de=(t,e)=>{let a=e.disableDialCodeAndPrefix?!1:e.forceDialCode,i=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,o=t,n=l=>e.trimNonDigitsEnd?l.trim():l;if(!o)return i&&!o.length||a?n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):n(o);if(o=z(o),o===e.dialCode&&!e.disableDialCodeAndPrefix)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(o)&&!e.disableDialCodeAndPrefix)return n(a?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${o}`);if(!o.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(a)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(o.length<e.dialCode.length)return n(`${e.prefix}${o}`)}let c=()=>{let l=e.dialCode.length,u=o.slice(0,l),g=o.slice(l);return{phoneLeftSide:u,phoneRightSide:g}},{phoneLeftSide:r,phoneRightSide:s}=c();return r=`${e.prefix}${r}${e.charAfterDialCode}`,s=se({value:s,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&s.length===0}),e.disableDialCodeAndPrefix&&(r=""),n(`${r}${s}`)};var ce=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:a,cursorPositionAfterInput:i,leftOffset:o=0,deletion:n})=>{if(i<o)return o;if(!t)return a.length;let c=null;for(let u=i-1;u>=0;u-=1)if(F(e[u])){c=u;break}if(c===null){for(let u=0;u<e.length;u+=1)if(F(a[u]))return u;return e.length}let r=0;for(let u=0;u<c;u+=1)F(e[u])&&(r+=1);let s=0,l=0;for(let u=0;u<a.length&&(s+=1,F(a[u])&&(l+=1),!(l>=r+1));u+=1);if(n!=="backward")for(;!F(a[s])&&s<a.length;)s+=1;return s};var V=({phone:t,prefix:e})=>t?`${e}${z(t)}`:"";function O({value:t,country:e,insertDialCodeOnEmpty:a,trimNonDigitsEnd:i,countries:o,prefix:n,charAfterDialCode:c,forceDialCode:r,disableDialCodeAndPrefix:s,defaultMask:l,countryGuessingEnabled:u,disableFormatting:g}){let f=t;s&&(f=f.startsWith(`${n}`)?f:`${n}${e.dialCode}${f}`);let h=u?Q({phone:f,countries:o,currentCountryIso2:e?.iso2}):void 0,b=h?.country??e,p=de(f,{prefix:n,mask:Z({phone:f,country:b,defaultMask:l,disableFormatting:g}),maskChar:U,dialCode:b.dialCode,trimNonDigitsEnd:i,charAfterDialCode:c,forceDialCode:r,insertDialCodeOnEmpty:a,disableDialCodeAndPrefix:s}),y=u&&!h?.fullDialCodeMatch?e:b;return{phone:V({phone:s?`${y.dialCode}${p}`:p,prefix:n}),inputValue:p,country:y}}var De=t=>{if(t?.toLocaleLowerCase().includes("delete")??!1)return t?.toLocaleLowerCase().includes("forward")?"forward":"backward"},pe=(t,{country:e,insertDialCodeOnEmpty:a,phoneBeforeInput:i,prefix:o,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:r,countryGuessingEnabled:s,defaultMask:l,disableFormatting:u,countries:g})=>{let f=t.nativeEvent,h=f.inputType,b=De(h),p=!!h?.startsWith("insertFrom"),y=h==="insertText",S=f?.data||void 0,D=t.target.value,d=t.target.selectionStart??0;if(h?.includes("history"))return{inputValue:i,phone:V({phone:i,prefix:o}),cursorPosition:i.length,country:e};if(y&&!F(S)&&D!==o)return{inputValue:i,phone:V({phone:r?`${e.dialCode}${i}`:i,prefix:o}),cursorPosition:d-(S?.length??0),country:e};if(c&&!D.startsWith(`${o}${e.dialCode}`)&&!p){let R=D?i:`${o}${e.dialCode}${n}`;return{inputValue:R,phone:V({phone:R,prefix:o}),cursorPosition:o.length+e.dialCode.length+n.length,country:e}}let{phone:C,inputValue:m,country:v}=O({value:D,country:e,trimNonDigitsEnd:b==="backward",insertDialCodeOnEmpty:a,countryGuessingEnabled:s,countries:g,prefix:o,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:r,disableFormatting:u,defaultMask:l}),k=ce({cursorPositionAfterInput:d,phoneBeforeInput:i,phoneAfterInput:D,phoneAfterFormatted:m,leftOffset:c?o.length+e.dialCode.length+n.length:0,deletion:b});return{phone:C,inputValue:m,cursorPosition:k,country:v}};import{useState as X}from"react";var me=(t,e)=>{let a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;for(let o of a)if(t[o]!==e[o])return!1;return!0};import{useRef as fe}from"react";var he=()=>{let t=fe(),e=fe(Date.now());return{check:()=>{let i=Date.now(),o=t.current?i-e.current:void 0;return t.current=e.current,e.current=i,o}}};var ke={size:20,overrideLastItemDebounceMS:-1};function Ce(t,e){let{size:a,overrideLastItemDebounceMS:i,onChange:o}={...ke,...e},[n,c]=X(t),[r,s]=X([n]),[l,u]=X(0),g=he();return[n,(p,y)=>{if(typeof p=="object"&&typeof n=="object"&&me(p,n)||p===n)return;let M=i>0,S=g.check(),D=M&&S!==void 0?S>i:!0;if(y?.overrideLastItem!==void 0?y.overrideLastItem:!D)s(C=>[...C.slice(0,l),p]);else{let C=r.length>=a;s(m=>[...m.slice(C?1:0,l+1),p]),C||u(m=>m+1)}c(p),o?.(p)},()=>{if(l<=0)return{success:!1};let p=r[l-1];return c(p),u(y=>y-1),o?.(p),{success:!0,value:p}},()=>{if(l+1>=r.length)return{success:!1};let p=r[l+1];return c(p),u(y=>y+1),o?.(p),{success:!0,value:p}}]}var U=".",_={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:I},Y=({defaultCountry:t=_.defaultCountry,value:e=_.value,countries:a=_.countries,prefix:i=_.prefix,defaultMask:o=_.defaultMask,charAfterDialCode:n=_.charAfterDialCode,historySaveDebounceMS:c=_.historySaveDebounceMS,disableCountryGuess:r=_.disableCountryGuess,disableDialCodePrefill:s=_.disableDialCodePrefill,forceDialCode:l=_.forceDialCode,disableDialCodeAndPrefix:u=_.disableDialCodeAndPrefix,disableFormatting:g=_.disableFormatting,onChange:f,inputRef:h})=>{let y={countries:a,prefix:i,charAfterDialCode:n,forceDialCode:u?!1:l,disableDialCodeAndPrefix:u,defaultMask:o,countryGuessingEnabled:!r,disableFormatting:g},M=Me(null),S=h||M,D=w=>{Promise.resolve().then(()=>{typeof window>"u"||S.current!==document?.activeElement||S.current?.setSelectionRange(w,w)})},[{phone:d,inputValue:C,country:m},v,k,R]=Ce(()=>{let w=$({value:t,field:"iso2",countries:a});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let A=w||$({value:"us",field:"iso2",countries:a}),{phone:x,inputValue:E,country:B}=O({value:e,country:A,insertDialCodeOnEmpty:!s,...y});return D(E.length),{phone:x,inputValue:E,country:B.iso2}},{overrideLastItemDebounceMS:c,onChange:({inputValue:w,phone:A,country:x})=>{if(!f)return;let E=T(x);f({phone:A,inputValue:w,country:E})}}),T=Ie(w=>$({value:w,field:"iso2",countries:a}),[a]),L=Ne(()=>T(m),[m,T]);ye(()=>{let w=S.current;if(!w)return;let A=x=>{if(!x.key)return;let E=x.ctrlKey,B=x.shiftKey,Pe=x.key.toLowerCase()==="z";!E||!Pe||(B?R():k())};return w.addEventListener("keydown",A),()=>{w.removeEventListener("keydown",A)}},[S,k,R]);let q=w=>{w.preventDefault();let{phone:A,inputValue:x,country:E,cursorPosition:B}=pe(w,{country:L,phoneBeforeInput:C,insertDialCodeOnEmpty:!1,...y});return v({inputValue:x,phone:A,country:E.iso2}),D(B),e},J=(w,A={focusOnInput:!1})=>{let x=$({value:w,field:"iso2",countries:a});if(!x){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let E=u?"":`${i}${x.dialCode}${n}`;v({inputValue:E,phone:`${i}${x.dialCode}`,country:x.iso2}),A.focusOnInput&&Promise.resolve().then(()=>{S.current?.focus()})},[H,we]=Re(!1);return ye(()=>{if(!H){we(!0),e!==d&&f?.({inputValue:C,phone:d,country:L});return}if(e===d)return;let{phone:w,inputValue:A,country:x}=O({value:e,country:L,insertDialCodeOnEmpty:!s,...y});v({phone:w,inputValue:A,country:x.iso2})},[e]),{phone:d,inputValue:C,country:L,setCountry:J,handlePhoneValueChange:q,inputRef:S}};var Z=({phone:t,country:e,defaultMask:a="............",disableFormatting:i=!1})=>{let o=e.format,n=r=>i?r.replace(new RegExp(`[^${U}]`,"g"),""):r;if(!o)return n(a);if(typeof o=="string")return n(o);if(!o.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),n(a);let c=Object.keys(o).find(r=>{if(r==="default")return!1;if(!(r.charAt(0)==="/"&&r.charAt(r.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${r}" for ${e.iso2} is not valid`),!1;let l=new RegExp(r.substring(1,r.length-1)),u=t.replace(e.dialCode,"");return l.test(z(u))});return n(c?o[c]:o.default)};var N=t=>{let[e,a,i,o,n,c]=t;return{name:e,iso2:a,dialCode:i,format:o,priority:n,areaCodes:c}};var Ae=t=>`Field "${t}" is not supported`,$=({field:t,value:e,countries:a=I})=>{if(["priority"].includes(t))throw new Error(Ae(t));let i=a.find(o=>{let n=N(o);return e===n[t]});if(i)return N(i)};var Q=({phone:t,countries:e=I,currentCountryIso2:a})=>{let i={country:void 0,fullDialCodeMatch:!1};if(!t)return i;let o=z(t);if(!o)return i;let n=i,c=({country:r,fullDialCodeMatch:s})=>{let l=r.dialCode===n.country?.dialCode,u=(r.priority??0)<(n.country?.priority??0);(!l||u)&&(n={country:r,fullDialCodeMatch:s})};for(let r of e){let s=N(r),{dialCode:l,areaCodes:u}=s;if(o.startsWith(l)){let g=n.country?Number(l)>=Number(n.country.dialCode):!0;if(u){let f=o.substring(l.length);for(let h of u)if(f.startsWith(h))return{country:s,fullDialCodeMatch:!0}}(g||l===o||!n.fullDialCodeMatch)&&c({country:s,fullDialCodeMatch:!0})}n.fullDialCodeMatch||o.length<l.length&&l.startsWith(o)&&(!n.country||Number(l)<=Number(n.country.dialCode))&&c({country:s,fullDialCodeMatch:!1})}if(a){let r=$({value:a,field:"iso2",countries:e});if(!r)return n;let l=r?(g=>{if(!g?.areaCodes)return!1;let f=o.substring(g.dialCode.length);return g.areaCodes.some(h=>h.startsWith(f))})(r):!1;!!n&&n.country?.dialCode===r.dialCode&&n.country!==r&&n.fullDialCodeMatch&&(!r.areaCodes||l)&&(n={country:r,fullDialCodeMatch:!0})}return n};import ge from"react";var _e=(t,e)=>{let a=parseInt(t,16);return Number(a+e).toString(16)},Te="abcdefghijklmnopqrstuvwxyz",Ee="1f1e6",be=Te.split("").reduce((t,e,a)=>({...t,[e]:_e(Ee,a)}),{}),$e=t=>[be[t[0]],be[t[1]]].join("-"),K=({iso2:t,size:e,src:a,protocol:i="https",disableLazyLoading:o,className:n,style:c,...r})=>{if(!t)return ge.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[n]}),width:e,height:e,...r});let s=()=>{if(a)return a;let l=$e(t);return`${i}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${l}.svg`};return ge.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[n]}),src:s(),width:e,height:e,draggable:!1,"data-country":t,loading:o?void 0:"lazy",style:{width:e,height:e,...c},alt:"",...r})};import G,{useCallback as ee,useEffect as te,useRef as oe,useState as Le}from"react";var Fe=1e3,re=({show:t,dialCodePrefix:e="+",selectedCountry:a,countries:i=I,flags:o,onSelect:n,onClose:c,...r})=>{let s=oe(null),l=oe(),u=oe({updatedAt:void 0,value:""}),g=d=>{let C=u.current.updatedAt&&new Date().getTime()-u.current.updatedAt.getTime()>Fe;u.current={value:C?d:`${u.current.value}${d}`,updatedAt:new Date};let m=i.findIndex(v=>N(v).name.toLowerCase().startsWith(u.current.value));m!==-1&&b(m)},f=ee(d=>i.findIndex(C=>N(C).iso2===d),[i]),[h,b]=Le(f(a)),p=()=>{l.current!==a&&b(f(a))},y=ee(d=>{b(f(d.iso2)),n?.(d)},[n,f]),M=d=>{let C=i.length-1,m=v=>d==="prev"?v-1:d==="next"?v+1:d==="last"?C:0;b(v=>{let k=m(v);return k<0?0:k>C?C:k})},S=d=>{if(d.stopPropagation(),d.key==="Enter"){d.preventDefault();let C=N(i[h]);y(C);return}if(d.key==="Escape"){c?.();return}if(d.key==="ArrowUp"){d.preventDefault(),M("prev");return}if(d.key==="ArrowDown"){d.preventDefault(),M("next");return}if(d.key==="PageUp"){d.preventDefault(),M("first");return}if(d.key==="PageDown"){d.preventDefault(),M("last");return}d.key===" "&&d.preventDefault(),d.key.length===1&&!d.altKey&&!d.ctrlKey&&!d.metaKey&&g(d.key.toLocaleLowerCase())},D=ee(()=>{if(!s.current||h===void 0)return;let d=N(i[h]).iso2;if(d===l.current)return;let C=s.current.querySelector(`[data-country="${d}"]`);C&&(le(s.current,C),l.current=d)},[h,i]);return te(()=>{D()},[h,D]),te(()=>{s.current&&(t?s.current.focus():p())},[t]),te(()=>{p()},[a]),G.createElement("ul",{ref:s,role:"listbox",className:P({addPrefix:["country-selector-dropdown"],rawClassNames:[r.className]}),style:{display:t?"block":"none",...r.style},onKeyDown:S,onBlur:c,tabIndex:-1,"aria-activedescendant":`react-international-phone__${N(i[h]).iso2}-option`},i.map((d,C)=>{let m=N(d),v=m.iso2===a,k=C===h,R=o?.find(T=>T.iso2===m.iso2);return G.createElement("li",{key:m.iso2,"data-country":m.iso2,role:"option","aria-selected":v,"aria-label":`${m.name} ${e}${m.dialCode}`,id:`react-international-phone__${m.iso2}-option`,className:P({addPrefix:["country-selector-dropdown__list-item",v&&"country-selector-dropdown__list-item--selected",k&&"country-selector-dropdown__list-item--focused"],rawClassNames:[r.listItemClassName]}),onClick:()=>y(m),style:r.listItemStyle,title:m.name},G.createElement(K,{iso2:m.iso2,src:R?.src,className:P({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[r.listItemFlagClassName]}),style:r.listItemFlagStyle}),G.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[r.listItemCountryNameClassName]}),style:r.listItemCountryNameStyle},m.name),G.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[r.listItemDialCodeClassName]}),style:r.listItemDialCodeStyle},e,m.dialCode))}))};var ne=({selectedCountry:t,onSelect:e,disabled:a,hideDropdown:i,countries:o=I,flags:n,renderButtonWrapper:c,...r})=>{let[s,l]=Ve(!1),u=ze(()=>{if(t)return $({value:t,field:"iso2",countries:o})},[o,t]),g=He(null),f=b=>{b.key&&["ArrowUp","ArrowDown"].includes(b.key)&&(b.preventDefault(),l(!0))},h=()=>{let b={title:u?.name,onClick:()=>l(y=>!y),onMouseDown:y=>y.preventDefault(),onKeyDown:f,disabled:i||a,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},p=j.createElement("div",{className:P({addPrefix:["country-selector-button__button-content"],rawClassNames:[r.buttonContentWrapperClassName]}),style:r.buttonContentWrapperStyle},j.createElement(K,{iso2:t,src:n?.find(y=>y.iso2===t)?.src,className:P({addPrefix:["country-selector-button__flag-emoji",a&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[r.flagClassName]}),style:{visibility:t?"visible":"hidden",...r.flagStyle}}),!i&&j.createElement("div",{className:P({addPrefix:["country-selector-button__dropdown-arrow",a&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[r.dropdownArrowClassName]}),style:r.dropdownArrowStyle}));return c?c({children:p,rootProps:b}):j.createElement("button",{...b,type:"button",className:P({addPrefix:["country-selector-button",s&&"country-selector-button--active",a&&"country-selector-button--disabled",i&&"country-selector-button--hide-dropdown"],rawClassNames:[r.buttonClassName]}),"data-country":t,style:r.buttonStyle},p)};return j.createElement("div",{className:P({addPrefix:["country-selector"],rawClassNames:[r.className]}),style:r.style,ref:g},h(),j.createElement(re,{show:s,countries:o,flags:n,onSelect:b=>{l(!1),e?.(b)},selectedCountry:t,onClose:()=>{l(!1)},...r.dropdownStyleProps}))};import je from"react";var ae=({dialCode:t,prefix:e,disabled:a,style:i,className:o})=>je.createElement("div",{className:P({addPrefix:["dial-code-preview",a&&"dial-code-preview--disabled"],rawClassNames:[o]}),style:i},`${e}${t}`);import W,{forwardRef as Be,useImperativeHandle as Oe}from"react";var Ke=Be(({value:t,onChange:e,countries:a=I,hideDropdown:i,showDisabledDialCodeAndPrefix:o,disableFocusAfterCountrySelect:n,flags:c,style:r,className:s,inputStyle:l,inputClassName:u,countrySelectorStyleProps:g,dialCodePreviewStyleProps:f,inputProps:h,placeholder:b,disabled:p,name:y,onFocus:M,onBlur:S,required:D,autoFocus:d,...C},m)=>{let{phone:v,inputValue:k,inputRef:R,country:T,setCountry:L,handlePhoneValueChange:q}=Y({value:t,countries:a,...C,onChange:H=>{e?.(H.phone,{country:H.country,inputValue:H.inputValue})}}),J=C.disableDialCodeAndPrefix&&o&&T?.dialCode;return Oe(m,()=>R.current?Object.assign(R.current,{setCountry:L,state:{phone:v,inputValue:k,country:T}}):null,[R,L,v,k,T]),W.createElement("div",{ref:m,className:P({addPrefix:["input-container"],rawClassNames:[s]}),style:r},W.createElement(ne,{onSelect:H=>L(H.iso2,{focusOnInput:!n}),flags:c,selectedCountry:T.iso2,countries:a,disabled:p,hideDropdown:i,...g}),J&&W.createElement(ae,{dialCode:T.dialCode,prefix:C.prefix??"+",disabled:p,...f}),W.createElement("input",{onChange:q,value:k,type:"tel",ref:R,className:P({addPrefix:["input",p&&"input--disabled"],rawClassNames:[u]}),placeholder:b,disabled:p,style:l,name:y,onFocus:M,onBlur:S,autoFocus:d,required:D,...h}))});export{ne as CountrySelector,re as CountrySelectorDropdown,ae as DialCodePreview,K as FlagImage,Ke as PhoneInput,Se as buildCountryData,I as defaultCountries,Z as getActiveFormattingMask,$ as getCountry,Q as guessCountryByPartialPhoneNumber,N as parseCountry,ue as removeDialCode,Y as usePhoneInput};
